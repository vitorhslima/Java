import java.util.Scanner;

public class Casa {
	
	private Quarto quarto = new Quarto();
	private Sala sala = new Sala();
	private Estrutura estrutura = new Estrutura();
	private ComodoInvalidoExcption invalidas = new ComodoInvalidoExcption();	
	
	public ComodoInvalidoExcption getInvalidas() {
		return invalidas;
	}

	public void setInvalidas(ComodoInvalidoExcption invalidas) {
		this.invalidas = invalidas;
	}

	public Estrutura getEstrutura() {
		return estrutura;
	}

	public Quarto getQuarto() {
		return quarto;
	}

	public void setQuarto(Quarto quarto) {
		this.quarto = quarto;
	}

	public Sala getSala() {
		return sala;
	}

	public void setSala(Sala sala) {
		this.sala = sala;
	}
	
	public void gerenciaCasa() {
		
		Casa casa = new Casa();

		Scanner s = new Scanner(System.in);

		String comodo = "";

		boolean primeiraVez = true;
		casa.getSala().setFliperama(true);
		casa.getQuarto().setTelevisao(true);
		casa.getQuarto().getLampada().setAcessa(true);
		casa.getSala().getLampada().setAcessa(true);

		System.out.println("=-=-=-=-=-=-=-=-=-=-=-=-=");
		System.out.println("Para sair escreva 'sair' ");
		System.out.println("=-=-=-=-=-=-=-=-=-=-=-=-=");

		try {if(!comodo.equals("sair"));
		}
		catch (Exception ex) {
			String msg = ex.getInvalidas();
			System.out.println("-----------------------");  // para implementar amanhã
			System.out.println("Esse comodo é invalido");
			System.out.println("-----------------------");
		
		while ((!comodo.equals("sair")) 
				|| (casa.getSala().isfliperamaLigado()) 
				|| (casa.getQuarto().isTvLigada())
				|| (casa.getSala().getLampada().isAcessa())
				|| (casa.getQuarto().getLampada().isAcessa())) {

			if (primeiraVez) {
				casa.getSala().setFliperama(false);
				casa.getQuarto().setTelevisao(false);
				casa.getQuarto().getLampada().setAcessa(false);
				casa.getSala().getLampada().setAcessa(false);
				primeiraVez = false;
			}

			System.out.println("--------------------------");
			System.out.println("Qual comodo você quer ir ?");
			System.out.println("--------------------------");
			comodo = s.next().toLowerCase();

			boolean existeComando = false;

			for (ComodoEnum c : ComodoEnum.values()) {
				if (comodo.equals(c.name())) {
					existeComando = true;
				}
			}

			if (existeComando == true) {
				if (!comodo.equals("sair")) {
					System.out.println("----------------------");
					System.out.println("Você está no " + comodo);
					System.out.println("----------------------");
				}

			} else {
				if (!comodo.equals("sair")) {
					System.out.println("-----------------------");
					System.out.println("Esse comodo é invalido");
					System.out.println("-----------------------");
				}
			}

			if (comodo.equals("quarto")) {
				casa.getQuarto().ligaTv(comodo, true);
			}

			if (comodo.equals("sala")) {
				casa.getSala().ligaFlp(comodo, true);
			}

			if (comodo.equals("sair") && (casa.getQuarto().isTvLigada())) {
				System.out.println("Desligue a televisão para sair");
				System.out.println("------------------------------");
			}
			
			if (comodo.equals("sair") && (casa.getSala().isfliperamaLigado())) {
				System.out.println("Desligue o Fliperama para sair");
				System.out.println("------------------------------");
			}
			
			if (comodo.equals("sair") && (casa.getQuarto().getLampada().isAcessa())) {
				System.out.println("Apague a lampada do Quarto");
				System.out.println("------------------------------");
			}
			
			if (comodo.equals("sair") && (casa.getSala().getLampada().isAcessa())) {
				System.out.println("Apague a lampada da Sala");
				System.out.println("------------------------------");
			}
		
			
		
		}
			
			

		}

		
		System.out.println("|°.°|°.°|°.°|°.°|°.°|°.°|°.°|°.°|°.°|°.°|°.°|");
		System.out.println("você está saindo de casa, até a proxima :)");
		System.out.println("|°.°|°.°|°.°|°.°|°.°|°.°|°.°|°.°|°.°|°.°|°.°|");
		
	}	
	

}
